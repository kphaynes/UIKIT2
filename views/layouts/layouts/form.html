<!DOCTYPE html>
<html lang="en" class="app" id="ng-app" ng-app="spark">

<head>
    <!-- Required meta tags always come first -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <!-- Bootstrap CSS -->
    <!--<link rel="stylesheet" href="https://cdn.rawgit.com/twbs/bootstrap/v4-dev/dist/css/bootstrap.css">-->
    <link rel="stylesheet" href="../../../vendor/bootstrap/dist/css/bootstrap.css">
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.4.0/animate.min.css" type="text/css">
    <link rel="stylesheet" href="../../../vendor/kendo/styles/kendo.common.min.css" type='text/css'>
    <link rel="stylesheet" href="../../../assets/css/app_less.css" type='text/css'>
    <link rel="stylesheet" href="../../../assets/css/app_sass.css" type='text/css'>
    <!--<link rel="stylesheet" href="../../../lib/css/override.css" type='text/css'>-->

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0-beta.2/angular.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0-beta.2/angular-route.js"></script>
    <script type="text/javascript" src="../../../assets/js/main.js"></script>
    <script type="text/javascript" src="../../../assets/js/app.js"></script>
    <script type="text/javascript" src="../../../vendor/kendo/js/kendo.all.min.js"></script>
    <script type="text/javascript" src="../../../assets/js/main.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    <script type="text/javascript" src="../../../vendor/bootstrap/dist/js/bootstrap.js"></script>
</head>

<body>
    <section class="vbox">
        <header class="header fixed-top p-0 navbar-fixed-top-xs">
            <nav class="navbar navbar-header navbar-light bg-white box-shadow d-flex flex-row">
                <div class="nav navbar-nav d-flex mr-auto hidden-lg-up">
                    <div class="nav-item">
                        <a href="javascript:void(0)" class="nav-link navbar-toggler border-0 rounded-0" data-toggle="class:nav-off-screen,open" data-target="#navbarSideBar">
                            <i class="fa fa-bars fa-fw "></i>
                        </a>
                    </div>
                </div>
                <a href="javascript:void(0)" class="navbar-brand p-0 hidden-sm-down d-flex" data-toggle="fullscreen"> <img src="../../../assets/images/logo_dark.png" height="50"></a>
                <a href="javascript:void(0)" class="navbar-brand p-0 hidden-md-up d-flex mx-auto" data-toggle="fullscreen"> <img src="../../../assets/images/logo_dark_sm.png" height="50"></a>
                <div class="nav navbar-nav d-flex flex-row ml-auto">
                    <div class="nav-item">
                        <a href="javascript:void(0)" class="nav-link"><i class="fa fa-search fa-fw"></i></a>
                    </div>
                    <div class="nav-item hidden-sm-down">
                        <a href="javascript:void(0)" class="nav-link">
                            <img src="/lib/images/avatar_default.jpg" alt="" class="avatar-sm rounded-circle">
                        </a>
                    </div>
                </div>
            </nav>
        </header>
        <section id="content" class="">
            <section class="hbox stretch">
                <aside class="aside-md nav-sidebar bg-dark hidden-md-down" id="navbarSideBar">
                    <section class="vbox">
                        <section class="scrollable">
                            <nav class="" role="navigation">
                                <ul class="nav flex-column" data-ride="collapse">
                                    <li class=" nav-item">
                                        <a href="javascript:void(0)" class="nav-link auto">
                                            <i class="fa fa-home fa-fw"></i> Home
                                        </a>
                                    </li>
                                    <li class="active nav-item">
                                        <a href="javascript:void(0)" class="nav-link auto">
                                            <i class="fa fa-file-text-o fa-fw"></i> Orders
                                        </a>
                                    </li>
                                    <li class=" nav-item">
                                        <a href="javascript:void(0)" class="nav-link auto">
                                            <i class="fa fa-tags fa-fw "></i> Inventory
                                            <b class="badge bg-light float-right hidden-nav">NEW</b>
                                        </a>
                                    </li>
                                    <li class=" nav-item">
                                        <a href="javascript:void(0)" class="nav-link auto">
                                            <i class="fa fa-dollar fa-fw"></i> Invoicing
                                            <b class="badge badge-pill bg-danger float-right hidden-nav">4</b>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="javascript:void(0)" class="nav-link auto">
                                            <i class="fa fa-user fa-fw"></i> Employees
                                        </a>
                                    </li>
                                    <li class=" nav-item">
                                        <a href="javascript:void(0)" class="nav-link auto">
                                            <i class="fa fa-bar-chart fa-fw"></i> Reports
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                        </section>
                    </section>
                </aside>
                <section>
                    <section class="vbox">
                        <section class="scrollable bg-light dk">
                            <div class="card card-block m-5 p-0 animated fadeInUp rounded-0 border-0 box-shadow">
                                <header class="header p-0">
                                    <div class="bg-light p-4">
                                        <div class="btn-group float-sm-right mb-1">
                                            <div class="btn-group" role="group">
                                                <a href="javascript:void(0)" class="btn btn-secondary btn-icon dropdown-toggle" data-toggle="dropdown"></a>
                                                <div class="dropdown-menu dropdown-menu-right">
                                                    <a class="dropdown-item" href="javascript:void(0)">Set to Done</a>
                                                    <a class="dropdown-item" href="javascript:void(0)">Print</a>
                                                    <a class="dropdown-item" href="javascript:void(0)">Cancel Order</a>
                                                </div>
                                            </div>
                                        </div>
                                        <a href="javascript:void(0)" class="btn btn-secondary float-sm-right mb-1 mr-1">Create Invoice</a>
                                        <a href="javascript:void(0)" class="btn btn-secondary float-sm-right mb-1 mr-1">Save</a>
                                        <div><a href="javascript:void(0)" class="mb-1 small d-inline"><i class="fa fa-angle-left"></i> Back to Orders</a></div>
                                        <div class="media">
                                            <div class="d-flex mr-2">
                                                <span class="fa-stack fa-2x">
                                                    <i class="fa fa-circle fa-stack-2x text-primary"></i>
                                                    <i class="fa fa-file-text-o fa-stack-1x fa-inverse"></i>
                                                </span>
                                            </div>
                                            <div class="media-body">
                                                <div class="text-muted text-uppercase">Order</div>
                                                <h3 class="media-heading">#12345622</h3>
                                            </div>
                                        </div>
                                        <div class="collapse" id="orderHeader">
                                            <div class="row mt-2 py-2">
                                                <div class="col-sm-3 ">
                                                    <div class="text-muted text-sm text-uppercase">Customer</div>
                                                    <p class="text-ellipsis text-dark">Aimbu Inc</p>
                                                </div>
                                                <div class="col-sm-3">
                                                    <div class="text-muted text-sm text-uppercase">Billing Address</div>
                                                    <address class="text-dark">700 Main St. Suite 600<br> 
                                                    San Francisco, CA 94107 </address>
                                                </div>
                                                <div class="col-sm-3 ">
                                                    <div class="text-muted text-sm text-uppercase">Order Date</div>
                                                    <p class="text-ellipsis text-dark">01/01/2016</p>
                                                </div>
                                                <div class="col-sm-3 ">
                                                    <a href="javascript:void(0)">
                                                        <span class="avatar avatar-sm rounded-circle float-left mr-2">
                                                            <img class="img-fluid" src="/lib/images/avatar.jpg" alt="">
                                                        </span>
                                                        <span class="clear">
                                                            <span class="text-muted text-sm block">SALES PERSON</span>
                                                            <p class="text-ellipsis text-dark">Linda Webb</p>
                                                        </span>
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="text-center mt-neg-1">
                                        <div class="" data-toggle="collapse" data-target="#orderHeader">
                                            <button class="btn btn-link btn-sm bg-light rounded-0" data-toggle="button" aria-pressed="false">
                                                <i class="fa fa-angle-up text-active"></i>
                                                <i class="fa fa-angle-down text"></i>
                                            </button>
                                        </div>
                                    </div>
                                </header>
                                <form class="form-horizontal p-4 mt-3">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group row mb-1">
                                                <label class="col-sm-3 col-form-label">Customer</label>
                                                <div class="col-sm-9">
                                                    <input id="customers" class="p-0" style="width: 100%" />
                                                </div>
                                            </div>
                                            <div class="form-group row mb-1">
                                                <label class="col-sm-3 col-form-label">Shipping Address</label>
                                                <div class="col-sm-9">
                                                    <textarea class="form-control" rows="3" disabled>1 Infinite Loop 95014 Cupertino, CA United States
                                                    </textarea>
                                                </div>
                                            </div>
                                            <div class="form-group row mb-1">
                                                <label class="col-sm-3 col-form-label">Ship Policy</label>
                                                <div class="col-sm-9">
                                                    <input id="shipping" class="form-control" class="form-control" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group row mb-1">
                                                <label class="col-sm-3 col-form-label">Sales Person</label>
                                                <div class="col-sm-9">
                                                    <input id="salesPeople" class="p-0" style="width: 100%" />
                                                </div>
                                            </div>
                                            <div class="form-group row mb-1">
                                                <label class="col-sm-3 col-form-label">Delivery Method</label>
                                                <div class="col-sm-9">
                                                    <select id="deliveryMethod" class="p-0" style="width: 100%;">
                                                        <option>Free Delivery</option>
                                                        <option>Normal Delivery Method</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group row mb-1">
                                                <label class="col-sm-3 col-form-label">Term</label>
                                                <div class="col-sm-5">
                                                    <select id="terms" class="p-0" style="width: 100%;">
                                                        <option>Net 10</option>
                                                        <option>Net 15</option>
                                                        <option>Net 30</option>
                                                        <option>Net 60</option>
                                                        <option>Due on Receipt</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group row mb-1">
                                                <label class="col-sm-3 col-form-label">Order Date</label>
                                                <div class="col-sm-5">
                                                    <input id="orderDate" class="p-0" style="width: 100%" disabled/>
                                                </div>
                                            </div>
                                            <div class="form-group row mb-1">
                                                <label class="col-sm-3 col-form-label">PO Number</label>
                                                <div class="col-sm-5">
                                                    <input id="poNumber" class="form-control" style="width: 100%" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                                <div class="px-4">
                                    <div id="products"></div>
                                </div>
                                <div class="p-4">
                                    <div class="row mt-2">
                                        <div class="col-sm-6">
                                            <label class="font-bold">Notes</label>
                                            <textarea class="form-control" rows="4"></textarea>
                                        </div>
                                        <div class="col-sm-2"></div>
                                        <div class="col-sm-4">
                                            <table class="table table-sm mb-0">
                                                <tbody>
                                                    <tr>
                                                        <td class="text-xs-right"><strong>Subtotal:</strong></td>
                                                        <td class="text-xs-right" width="120">$1607.00</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="text-xs-right no-border"><strong>Shipping:</strong></td>
                                                        <td class="text-xs-right" width="120">$0.00</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="text-xs-right no-border"><strong>Total:</strong></td>
                                                        <td class="text-xs-right h4" width="120"><strong>$1607.00</strong></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>
                        </section>
                    </section>
                </section>
            </section>
        </section>
    </section>
</body>

<script type="text/x-kendo-template" id="template">
    <div class="toolbar">
        <button class="k-grid-add btn btn-secondary"><i class="i i-plus2"></i> New Sales Line</button>
    </div>
</script>
<script>
    var dropDown = $("#customers").kendoDropDownList({
        filter: "startswith",
        dataTextField: "custName",
        dataValueField: "custName",
        dataSource: {
            transport: {
                read: {
                    url: "../../../lib/json/customers.json",
                    dataType: "json"
                }
            },
            schema: {
                data: "data"
            }
        }
    });

    var dropDown = $("#salesPeople").kendoDropDownList({
        filter: "startswith",
        dataTextField: "salesPerson",
        dataValueField: "salesPerson",
        enable: false,
        dataSource: {
            transport: {
                read: {
                    url: "../../../lib/json/salesPeople.json",
                    dataType: "json"
                }
            },
            schema: {
                data: "data"
            }
        }
    });

    var dropdownlist = $("#customers").data('kendoDropDownList')
    var dropdownlist = $("#salesPeople").data('kendoDropDownList')

    $("#terms").kendoDropDownList({
        enable: false
    });
    $("#deliveryMethod").kendoDropDownList();
    $("#orderDate").kendoDatePicker();

    $("#products").kendoGrid({
        columns: [
            {
                field: "product",
                title: "Product",
                width: "180px",
                editor: productDropDownEditor,
                template: "#=product#"
            },
            {
                field: "description",
                title: "Description",
            },
            {
                field: "qtyOrdered",
                title: "Quantity",
                width: "100px"
            },
            {
                field: "delivered",
                title: "Delivered",
                width: "100px"
            },
            {
                field: "uom",
                title: "UOM",
                width: "60px"
            },
            {
                field: "unitPrice",
                title: "Unit Price",
                format: "{0:c}",
                width: "100px"
            },
            {
                field: "discount",
                title: "Discount",
                format: "{0:p}",
                width: "100px"
            },
            {
                field: "subtotal",
                title: "Subtotal",
                format: "{0:c}",
                width: "100px"
            },
            {
                command: [{
                    name: "destroy",
                    template: "<a class='btn btn-secondary btn-icon btn-sm k-grid-destroy btn-empty b-a m-l-xs' href='' style='min-width:16px;'><span class='fa fa-trash-o fa-lg'></span></a>",
                    width: 40
                }, ],
                width: "60px"
            }
            ],
        editable: true,
        toolbar: kendo.template($("#template").html()),
        //toolbar: ["create"],
        dataSource: {
            type: "json",
            transport: {
                read: {
                    url: "../../../lib/json/orderDetail.json",
                    dataType: "json",
                }
            },
            schema: {
                data: "data",
                total: "data.length",
                model: {
                    id: "orderNum",
                    fields: {
                        product: {
                            editable: true,
                            nullable: true
                        },
                        qtyOrdered: {
                            type: "number",
                            validation: {
                                required: true,
                                min: 1
                            },
                            defaultValue: 1
                        },
                        delivered: {
                            teditable: false,
                            ype: "number",
                            defaultValue: 0
                        },
                        uom: {
                            editable: false,
                            nullable: false,
                            defaultValue: "Unit(s)"
                        },
                        unitPrice: {
                            type: "number",
                            validation: {
                                required: true,
                                min: 1
                            }
                        },
                        discount: {
                            type: "number",
                            validation: {
                                required: true,
                                min: 1
                            }
                        },
                        subtotal: {
                            type: "number",
                            editable: false,
                            nullable: false
                        },
                    }
                }
            },
            sort: {
                field: "product",
                dir: "asc"
            }
        },
        scrollable: true,
        sortable: true,
        selectable: false,
        filterable: false,
        pageable: false,
    });

    function productDropDownEditor(container, options) {
        $('<input required data-text-field="product" data-value-field="product" data-bind="value:' + options.field + '"/>')
            .appendTo(container)
            .kendoDropDownList({
                autoBind: false,
                dataSource: {
                    type: "json",
                    transport: {
                        read: {
                            url: "../../../lib/json/products.json",
                            dataType: "json",
                        },
                    },
                    schema: {
                        data: "data",
                        total: "data.length",
                        model: {
                            id: "productID",
                            fields: {
                                productID: {
                                    editable: false,
                                    nullable: true
                                },
                                product: {
                                    validation: {
                                        required: true
                                    }
                                },
                                unitPrice: {
                                    type: "number",
                                    validation: {
                                        required: true,
                                        min: 1
                                    }
                                }
                            }
                        }
                    },
                }
            });
    }
</script>

</html>